<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Application</title>
    <link rel="stylesheet" href="style.css">
    <!-- bootstrap cdn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container main-page rounded">
        <div class="row mb-5">
            <form class="d-flex form" role="search">
                <input class="form-control me-2" type="search" placeholder="Enter city name" aria-label="Search">
                <button class="btn btn-outline-light button" type="submit">Search</button>
            </form>
        </div>
        <div class="error">
            <p>Invalid city name.</p>
        </div>
        <div class="minimize">
            <div class="weather d-flex align-items-center justify-content-center m-auto">
                <svg width="256px" height="256px" viewBox="-4.8 -4.8 57.60 57.60" id="b" xmlns="http://www.w3.org/2000/svg" fill="#1ad1ff" stroke="#1ad1ff" stroke-width="0.8640000000000001" transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.288"></g>
                    <g id="SVGRepo_iconCarrier"><defs><style>.c{fill:#ffffff;}.d{fill:none;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;}</style></defs>
                    <path class="d" d="m13.0648,29.894c-9.0601,0-8.9693-13.9941.0537-14.7357,1.6552-6.32,6.6424-9.0822,11.436-8.8242,3.8879.1772,7.3864,2.4138,9.1789,5.8684,11.2533,1.9347,10.0984,17.6915,0,17.6915H13.0648Z"></path>
                    <circle class="c" cx="17.4575" cy="32.3875" r=".75"></circle><circle class="c" cx="28.4314" cy="38.3635" r=".75"></circle><circle class="c" cx="30.495" cy="33.4731" r=".75"></circle>
                    <circle class="c" cx="22.9249" cy="35.0806" r=".75"></circle><circle class="c" cx="26.1632" cy="32.3875" r=".75"></circle><circle class="c" cx="11.9614" cy="33.5806" r=".75"></circle>
                    <circle class="c" cx="17.8982" cy="36.4503" r=".75"></circle><circle class="c" cx="37.6533" cy="32.7745" r=".75"></circle><circle class="c" cx="34.4933" cy="40.1823" r=".75"></circle>
                    <circle class="c" cx="34.0634" cy="35.655" r=".75"></circle><circle class="c" cx="14.1256" cy="40.9323" r=".75"></circle></g></svg>
            </div>
            <div class="text-center text-white">
                <h1 class="temperature"></h1>
                <h2 class="city"></h2>
            </div>
            <div class="d-flex align-items-center justify-content-between temp">
                <div>
                    <svg viewBox="0 0 24 24" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" stroke="#ffffff">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier"><defs><style>.cls-1{fill:none;stroke:#ffffff;stroke-miterlimit:10;stroke-width:1.92px;}</style></defs>
                            <path class="cls-1" d="M.5,3.4c1.92,0,1.92.95,3.83.95S6.25,3.4,8.16,3.4s1.92.95,3.83.95,1.92-.95,3.83-.95,1.92.95,3.84.95,1.92-.95,3.84-.95"></path>
                            <path class="cls-1" d="M.5,9.15c1.92,0,1.92.95,3.83.95s1.92-.95,3.83-.95,1.92.95,3.83.95,1.92-.95,3.83-.95,1.92.95,3.84.95,1.92-.95,3.84-.95"></path>
                            <path class="cls-1" d="M.5,14.9c1.92,0,1.92.95,3.83.95s1.92-.95,3.83-.95,1.92.95,3.83.95,1.92-.95,3.83-.95,1.92.95,3.84.95,1.92-.95,3.84-.95"></path>
                            <path class="cls-1" d="M.5,20.65c1.92,0,1.92,1,3.83,1s1.92-1,3.83-1,1.92,1,3.83,1,1.92-1,3.83-1,1.92,1,3.84,1,1.92-1,3.84-1"></path></g></svg>
                    <h1 class="text-white humidity"></h1>
                    <p class="text-white">Humidity</p>
                </div>
                <div>
                    <svg fill="#ffffff" height="100px" width="100px" version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" stroke="#ffffff">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> 
                            <path d="M22,9.6c-1-0.4-2-0.9-3-1.4V17c1,0,2,0.1,3,0V9.6z"></path> <path d="M27.7,10.6c-0.2-0.2-0.5-0.3-0.8-0.3c-1,0.1-2,0-2.9-0.2v6.5c1.1-0.3,2.2-0.7,3.5-1.4c0.3-0.2,0.5-0.5,0.5-0.9v-3 C28,11.1,27.9,10.8,27.7,10.6z"></path> 
                            <path d="M12,5.6c-0.7-0.1-1.3-0.1-2.1,0C9.4,5.7,9.1,6,9,6.5L6,8.9V3c0-0.6-0.4-1-1-1S4,2.4,4,3v26c0,0.6,0.4,1,1,1s1-0.4,1-1V15.1 l3,2.4v0.1c0,0.4,0.2,0.7,0.5,0.9c0.2,0.1,0.3,0.1,0.5,0.1c0.2,0,0.3,0,0.5-0.1c0.5-0.3,1-0.5,1.5-0.7V5.6z M9,14.9l-3-2.4v-1 l3-2.4V14.9z"></path> 
                            <path d="M17,7.1c-0.9-0.4-1.9-0.8-3-1.1v11.2c1-0.2,2-0.3,3-0.2V7.1z"></path> </g> </g></svg>
                    <h1 class="text-white wind-speed"></h1>
                    <p class="text-white">Wind Speed</p>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>



    <script>
        const apiKey = "95831de05311817316052a8a24eaf59d";
        const apiUrl ="https://api.openweathermap.org/data/2.5/weather?units=metric&q=";

        const searchForm = document.querySelector(".form");

// Make a GET request
        async function checkWeather(city) {
            const url = `${apiUrl}${city}&appid=${apiKey}`;

            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);

                    document.querySelector(".temperature").innerHTML = Math.round(data.main.temp) + "Â°c";
                    document.querySelector(".city").innerHTML = data.name;
                    document.querySelector(".humidity").innerHTML = data.main.humidity + "%";
                    document.querySelector(".wind-speed").innerHTML = data.wind.speed + "km/h";

                    const weatherType = data.weather[0].main;
                    const weatherIconContainer = document.querySelector(".weather");

                    if (weatherType == 'Clear') {
                        const svgClear = `
                            <svg viewBox="0 0 48 48" id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" fill="#000000">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <defs>
                                        <style>.cls-1{fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;}</style>
                                    </defs>
                                    <path class="cls-1" d="M24,13A11,11,0,1,1,13,24,11,11,0,0,1,24,13Z"></path>
                                    <line class="cls-1" x1="24" y1="3.5" x2="24" y2="9.61"></line>
                                    <line class="cls-1" x1="38.5" y1="9.5" x2="34.18" y2="13.82"></line>
                                    <line class="cls-1" x1="44.5" y1="24" x2="38.39" y2="24"></line>
                                    <line class="cls-1" x1="38.5" y1="38.5" x2="34.18" y2="34.18"></line>
                                    <line class="cls-1" x1="24" y1="44.5" x2="24" y2="38.39"></line>
                                    <line class="cls-1" x1="9.5" y1="38.5" x2="13.82" y2="34.18"></line>
                                    <line class="cls-1" x1="3.5" y1="24" x2="9.61" y2="24"></line>
                                    <line class="cls-1" x1="9.5" y1="9.5" x2="13.82" y2="13.82"></line>
                                </g>
                            </svg>`;
                            weatherIconContainer.innerHTML = svgClear;
                    }
                    else if (weatherType == "Clouds") {
                        const svgClouds = `
                            <svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <path d="M512 512m-277.333333 0a277.333333 277.333333 0 1 0 554.666666 0 277.333333 277.333333 0 1 0-554.666666 0Z" fill="#EFD358"></path>
                                    <path d="M85.333333 533.333333H42.666667a21.333333 21.333333 0 1 1 0-42.666666h42.666666a21.333333 21.333333 0 1 1 0 42.666666zM209.066667 230.4a21.269333 21.269333 0 0 1-15.082667-6.250667l-29.866667-29.866666a21.333333 21.333333 0 1 1 30.165334-30.165334l29.866666 29.866667A21.333333 21.333333 0 0 1 209.066667 230.4zM512 106.666667a21.333333 21.333333 0 0 1-21.333333-21.333334V42.666667a21.333333 21.333333 0 1 1 42.666666 0v42.666666a21.333333 21.333333 0 0 1-21.333333 21.333334zM814.933333 230.4a21.333333 21.333333 0 0 1-15.082666-36.416l29.866666-29.866667a21.333333 21.333333 0 1 1 30.165334 30.165334l-29.866667 29.866666a21.269333 21.269333 0 0 1-15.082667 6.250667zM981.333333 533.333333h-42.666666a21.333333 21.333333 0 1 1 0-42.666666h42.666666a21.333333 21.333333 0 1 1 0 42.666666z" fill="#EFD358"></path>
                                    <path d="M810.666667 1002.666667H213.333333c-105.856 0-192-86.122667-192-192s86.144-192 192-192c17.322667 0 34.624 2.453333 51.669334 7.338666A256.128 256.128 0 0 1 490.666667 490.666667a255.786667 255.786667 0 0 1 232.533333 149.290666A189.653333 189.653333 0 0 1 810.666667 618.666667c105.856 0 192 86.122667 192 192s-86.144 192-192 192z" fill="#ffffff"></path>
                                </g>
                            </svg>`;
                            weatherIconContainer.innerHTML = svgClouds;
                    } else if (weatherType == "Rain") {
                        const svgRain = `
                            <svg height="200px" width="200px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 480 480" xml:space="preserve" fill="#000000">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <circle style="fill:#FCB641;" cx="341.632" cy="136.468" r="136"></circle>
                                    <!-- other path elements -->
                                </g>
                            </svg>`;
                            weatherIconContainer.innerHTML = svgRain;
                    } else if (weatherType == "Drizzle") {
                        const svgDrizzle = `
                            <svg fill="#ffffff" height="200px" width="200px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 227.73 227.73" xml:space="preserve" stroke="#ffffff">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <!-- path elements -->
                                </g>
                            </svg>`;
                            weatherIconContainer.innerHTML = svgDrizzle;
                    } else if (weatherType == "Mist") {
                        const svgMist = `
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#000000">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <!-- path elements -->
                                </g>
                            </svg>`;
                            weatherIconContainer.innerHTML = svgMist;
                    }

                    document.querySelector(".minimize").style.display = 'block';
                    // Hide error message if there was a successful response
                    document.querySelector(".error").style.display = 'none';
                })
                .catch(error => {
                    console.error('Error:', error);
                    // Show error message for 404 status
                    if (error.message === 'Network response was not ok') {
                        document.querySelector(".error").style.display = 'block';
                        document.querySelector(".minimize").style.display = 'none';
                    } 
                });       
        }

        // Add event listener to the form submission
        searchForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const city = searchForm.querySelector('input').value;
            checkWeather(city);
        });

    </script>
</body>
</html>